# ç”Ÿäº§çº§åˆ«æ”¹é€ æŒ‡å—

æœ¬é¡¹ç›®å·²ç»è¿‡ç”Ÿäº§çº§åˆ«çš„æ”¹é€ ï¼ŒåŒ…å«å®Œæ•´çš„æµ‹è¯•æ¡†æ¶ã€ä»£ç è´¨é‡å·¥å…·ã€é”™è¯¯å¤„ç†ã€UX ä¼˜åŒ–å’Œ CI/CD æµç¨‹ã€‚

## âœ… å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½

- âœ… **æµ‹è¯•æ¡†æ¶**: Vitest + Vue Test Utils + Testing Libraryï¼ˆè¦†ç›–ç‡ç›®æ ‡ 70%ï¼‰
- âœ… **ä»£ç è´¨é‡**: TypeScript ä¸¥æ ¼æ¨¡å¼ + ESLint + Prettier + Git Hooks
- âœ… **é”™è¯¯å¤„ç†**: ErrorBoundary + å…¨å±€é”™è¯¯å¤„ç† + é”™è¯¯å›½é™…åŒ–
- âœ… **UX ä¼˜åŒ–**: LoadingState + EmptyState + ErrorState ç»„ä»¶
- âœ… **CI/CD**: GitHub Actions è‡ªåŠ¨åŒ–æµç¨‹
- âœ… **å®‰å…¨å®æ–½**: ç³»ç»Ÿçº§åŠ å¯†å­˜å‚¨ + å†…å­˜åŠ å¯† + ç”Ÿç‰©è¯†åˆ«æ”¯æŒ

## ğŸ“¦ æ–°å¢ä¾èµ–

### æµ‹è¯•ç›¸å…³

- `vitest`: æµ‹è¯•æ¡†æ¶
- `@vitest/ui`: æµ‹è¯• UI
- `@vue/test-utils`: Vue ç»„ä»¶æµ‹è¯•å·¥å…·
- `@testing-library/vue`: Vue Testing Library
- `@testing-library/jest-dom`: DOM æ–­è¨€
- `@testing-library/user-event`: ç”¨æˆ·äº¤äº’æ¨¡æ‹Ÿ
- `jsdom`: DOM ç¯å¢ƒæ¨¡æ‹Ÿ

### ä»£ç è´¨é‡

- `eslint`: ä»£ç æ£€æŸ¥
- `@typescript-eslint/eslint-plugin`: TypeScript ESLint æ’ä»¶
- `@typescript-eslint/parser`: TypeScript ESLint è§£æå™¨
- `eslint-plugin-vue`: Vue ESLint æ’ä»¶
- `eslint-config-prettier`: Prettier é›†æˆ
- `prettier`: ä»£ç æ ¼å¼åŒ–

### Git Hooks

- `husky`: Git hooks ç®¡ç†
- `lint-staged`: æš‚å­˜æ–‡ä»¶ lint

## ğŸ¯ æ–°å¢è„šæœ¬å‘½ä»¤

```bash
# æµ‹è¯•
pnpm test              # è¿è¡Œæµ‹è¯•
pnpm test:ui           # æµ‹è¯• UI
pnpm test:coverage     # æµ‹è¯•è¦†ç›–ç‡
pnpm test:watch        # ç›‘å¬æ¨¡å¼

# ä»£ç è´¨é‡
pnpm lint              # ESLint æ£€æŸ¥
pnpm lint:fix          # ESLint è‡ªåŠ¨ä¿®å¤
pnpm format            # Prettier æ ¼å¼åŒ–
pnpm format:check      # Prettier æ£€æŸ¥
pnpm type-check        # TypeScript ç±»å‹æ£€æŸ¥
pnpm check             # å®Œæ•´æ£€æŸ¥ï¼ˆç±»å‹+lint+æ ¼å¼ï¼‰

# æ„å»º
pnpm build:prod       # ç”Ÿäº§æ„å»ºï¼ˆåŒ…å«æ£€æŸ¥ï¼‰
```

## ğŸ“ å…³é”®æ–‡ä»¶ç»“æ„

```
.
â”œâ”€â”€ .eslintrc.cjs          # ESLint é…ç½®
â”œâ”€â”€ .prettierrc.json       # Prettier é…ç½®
â”œâ”€â”€ vitest.config.ts       # Vitest é…ç½®
â”œâ”€â”€ .github/workflows/     # CI/CD é…ç½®
â”œâ”€â”€ .husky/                # Git Hooks
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ test/              # æµ‹è¯•å·¥å…·å’Œé…ç½®
â”‚   â”œâ”€â”€ components/common/ # é€šç”¨ç»„ä»¶ï¼ˆLoading/Empty/Errorï¼‰
â”‚   â””â”€â”€ composables/       # Composablesï¼ˆé”™è¯¯å¤„ç†ç­‰ï¼‰
```

è¯¦ç»†æ–‡ä»¶ç»“æ„è¯·æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•ã€‚

## ğŸ”§ é…ç½®ä¼˜åŒ–

### TypeScript é…ç½®

- å¯ç”¨æ‰€æœ‰ä¸¥æ ¼æ¨¡å¼é€‰é¡¹
- æé«˜ç±»å‹å®‰å…¨æ€§
- æ›´å¥½çš„ IDE æ”¯æŒ

### Vite é…ç½®

- ä»£ç åˆ†å‰²ä¼˜åŒ–ï¼ˆå·²å­˜åœ¨ï¼‰
- ç”Ÿäº§æ„å»ºä¼˜åŒ–ï¼ˆå·²å­˜åœ¨ï¼‰

### ESLint è§„åˆ™

- Vue 3 æœ€ä½³å®è·µ
- TypeScript ä¸¥æ ¼è§„åˆ™
- ä»£ç è´¨é‡è§„åˆ™

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# è¿è¡Œæµ‹è¯•å¹¶æŸ¥çœ‹è¦†ç›–ç‡
pnpm test:coverage

# è¿è¡Œæµ‹è¯•å¹¶æ‰“å¼€ UI
pnpm test:ui

# ç›‘å¬æ¨¡å¼
pnpm test:watch
```

### æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

- Lines: 70%
- Functions: 70%
- Branches: 70%
- Statements: 70%

è¯¦ç»†æµ‹è¯•æŒ‡å—è¯·å‚è€ƒ [TESTING.md](./TESTING.md)

## ğŸ” ä»£ç è´¨é‡

### ESLint

```bash
# æ£€æŸ¥ä»£ç 
pnpm lint

# è‡ªåŠ¨ä¿®å¤
pnpm lint:fix
```

### Prettier

```bash
# æ ¼å¼åŒ–ä»£ç 
pnpm format

# æ£€æŸ¥æ ¼å¼
pnpm format:check
```

### TypeScript ç±»å‹æ£€æŸ¥

```bash
pnpm type-check
```

### å®Œæ•´æ£€æŸ¥

```bash
pnpm check  # è¿è¡Œç±»å‹æ£€æŸ¥ã€lint å’Œæ ¼å¼æ£€æŸ¥
```

## ğŸª Git Hooks

é¡¹ç›®ä½¿ç”¨ Husky å’Œ lint-staged æ¥ç¡®ä¿ä»£ç è´¨é‡ï¼š

- **pre-commit**: è‡ªåŠ¨è¿è¡Œ ESLint å’Œ Prettier
- **pre-push**: è¿è¡Œç±»å‹æ£€æŸ¥å’Œæµ‹è¯•

## ğŸš€ CI/CD

GitHub Actions é…ç½®äº†å®Œæ•´çš„ CI/CD æµç¨‹ï¼š

1. **Lint & Type Check**: ä»£ç è´¨é‡å’Œç±»å‹æ£€æŸ¥
2. **Test**: è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
3. **Build**: æ„å»ºç”Ÿäº§ç‰ˆæœ¬

## ğŸ›¡ï¸ é”™è¯¯å¤„ç†

### Error Boundary

ä½¿ç”¨ `ErrorBoundary` ç»„ä»¶åŒ…è£…åº”ç”¨ï¼Œæ•è·ç»„ä»¶æ ‘ä¸­çš„é”™è¯¯ã€‚

### å…¨å±€é”™è¯¯å¤„ç†

- æ•è·æœªå¤„ç†çš„ Promise æ‹’ç»
- æ•è·å…¨å±€ JavaScript é”™è¯¯
- é›†æˆé”™è¯¯ç›‘æ§æœåŠ¡ï¼ˆå¯æ‰©å±•ï¼‰

## ğŸ“¦ ç»„ä»¶

### é€šç”¨ç»„ä»¶

- `LoadingState`: åŠ è½½çŠ¶æ€ç»„ä»¶
- `EmptyState`: ç©ºçŠ¶æ€ç»„ä»¶
- `ErrorState`: é”™è¯¯çŠ¶æ€ç»„ä»¶
- `ErrorBoundary`: é”™è¯¯è¾¹ç•Œç»„ä»¶

## ğŸ¨ UX ä¼˜åŒ–

### åŠ è½½çŠ¶æ€

æ‰€æœ‰å¼‚æ­¥æ“ä½œéƒ½åº”è¯¥æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼Œä½¿ç”¨ `LoadingState` ç»„ä»¶ã€‚

### é”™è¯¯å¤„ç†

ä½¿ç”¨ `ErrorState` ç»„ä»¶æ˜¾ç¤ºé”™è¯¯ï¼Œå¹¶æä¾›é‡è¯•åŠŸèƒ½ã€‚

### ç©ºçŠ¶æ€

ä½¿ç”¨ `EmptyState` ç»„ä»¶æ˜¾ç¤ºç©ºæ•°æ®çŠ¶æ€ã€‚

## ğŸ“ ä»£ç è§„èŒƒ

### å‘½åè§„èŒƒ

- ç»„ä»¶ï¼šPascalCase
- æ–‡ä»¶ï¼škebab-case
- å˜é‡/å‡½æ•°ï¼šcamelCase
- å¸¸é‡ï¼šUPPER_SNAKE_CASE

### ç±»å‹å®‰å…¨

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- é¿å…ä½¿ç”¨ `any`
- ä¸ºæ‰€æœ‰å‡½æ•°æ·»åŠ è¿”å›ç±»å‹

### ç»„ä»¶è§„èŒƒ

- ä½¿ç”¨ `<script setup>` è¯­æ³•
- æ˜ç¡® props ç±»å‹
- ä½¿ç”¨ `defineEmits` å®šä¹‰äº‹ä»¶
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š

## ğŸ”’ å®‰å…¨

### æ ¸å¿ƒå®‰å…¨åŸåˆ™

1. **åŠ©è®°è¯åŠ å¯†å­˜å‚¨åœ¨ç³»ç»Ÿçº§å®‰å…¨å­˜å‚¨**
   - ä½¿ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„å®‰å…¨å­˜å‚¨æœºåˆ¶ï¼ˆKeychain/Keystoreï¼‰
   - AES-256-GCM åŠ å¯† + Argon2id å¯†ç å“ˆå¸Œ
   - é€šè¿‡å¯†ç è§£é”å¯¼å‡º

2. **å†…å­˜ä¸­åŠ©è®°è¯åŠ å¯†å­˜å‚¨**
   - ä½¿ç”¨ Web Crypto API çš„ AES-GCM åŠ å¯†
   - é”å®šåç«‹å³æ¸…é™¤å†…å­˜ä¸­çš„åŠ å¯†æ•°æ®
   - å¢åŠ ä»å†…å­˜è½¬å‚¨ä¸­æå–åŠ©è®°è¯çš„éš¾åº¦

3. **å‰ç«¯ä¸å­˜å‚¨æ•æ„Ÿä¿¡æ¯**
   - åŠ©è®°è¯ä¸åœ¨ localStorage
   - å¯†ç ä¸åœ¨ä»»ä½•å­˜å‚¨ä¸­
   - æ•æ„Ÿä¿¡æ¯ä»…åœ¨å†…å­˜ä¸­ï¼ˆä¸´æ—¶ï¼‰

### å®‰å…¨ç‰¹æ€§

- **åŠ å¯†ç®—æ³•**:
  - AES-256-GCMï¼šå¯¹ç§°åŠ å¯†ï¼Œ256ä½å¯†é’¥ï¼Œè®¤è¯åŠ å¯†æ¨¡å¼
  - Argon2idï¼šå¯†ç å“ˆå¸Œï¼Œå†…å­˜ç¡¬å‡½æ•°ï¼ŒæŠ—æš´åŠ›ç ´è§£

- **å­˜å‚¨ä½ç½®**:
  - macOS/iOS: `~/Library/Application Support/offline-wallet/encrypted_mnemonic.dat`
  - Windows: `%APPDATA%/offline-wallet/encrypted_mnemonic.dat`
  - Linux: `~/.local/share/offline-wallet/encrypted_mnemonic.dat`

- **æ–‡ä»¶æƒé™**:
  - Unix: 600ï¼ˆä»…æ‰€æœ‰è€…å¯è¯»å†™ï¼‰
  - Windows: ACL ä¿æŠ¤

### å®‰å…¨æ“ä½œ

- æ‰€æœ‰æ•æ„Ÿæ“ä½œéƒ½æœ‰äºŒæ¬¡ç¡®è®¤
- é”™è¯¯ä¿¡æ¯ä¸æ³„éœ²æ•æ„Ÿæ•°æ®
- ä½¿ç”¨å®‰å…¨çš„å­˜å‚¨æ–¹å¼
- è‡ªåŠ¨é”å®šæœºåˆ¶ä¿æŠ¤é’±åŒ…

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

- ä»£ç åˆ†å‰²
- æ‡’åŠ è½½
- è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§æ•°æ®åˆ—è¡¨ï¼‰
- é˜²æŠ–å’ŒèŠ‚æµ

## ğŸš¢ éƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build:prod  # åŒ…å« lintã€ç±»å‹æ£€æŸ¥å’Œæ„å»º
```

### é¢„è§ˆæ„å»ºç»“æœ

```bash
pnpm preview
```

## ğŸ“Š ä»£ç è´¨é‡æŒ‡æ ‡

### æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡

- Lines: 70%
- Functions: 70%
- Branches: 70%
- Statements: 70%

### ä»£ç è§„èŒƒ

- ESLint è§„åˆ™å¼ºåˆ¶æ‰§è¡Œ
- Prettier è‡ªåŠ¨æ ¼å¼åŒ–
- TypeScript ä¸¥æ ¼ç±»å‹æ£€æŸ¥

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

- **æµ‹è¯•è¦†ç›–**: æé«˜æµ‹è¯•è¦†ç›–ç‡åˆ° 80%ï¼Œæ·»åŠ  E2E æµ‹è¯•
- **æ€§èƒ½ä¼˜åŒ–**: è™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ã€ä»£ç åˆ†å‰²
- **å¯è®¿é—®æ€§**: ARIA æ ‡ç­¾ã€é”®ç›˜å¯¼èˆªã€å±å¹•é˜…è¯»å™¨æ”¯æŒ
- **ç›‘æ§**: é”™è¯¯ç›‘æ§ï¼ˆSentryï¼‰ã€æ€§èƒ½ç›‘æ§
- **æ–‡æ¡£**: API æ–‡æ¡£ã€ç»„ä»¶æ–‡æ¡£ã€å¼€å‘æŒ‡å—

è¯¦ç»†è·¯çº¿å›¾è¯·å‚è€ƒ [ROADMAP.md](./ROADMAP.md)

## ğŸ“š æœ€ä½³å®è·µ

- âœ… ç¼–å†™æµ‹è¯•ï¼šä¸ºæ–°åŠŸèƒ½ç¼–å†™æµ‹è¯•
- âœ… ç±»å‹å®‰å…¨ï¼šå……åˆ†åˆ©ç”¨ TypeScript
- âœ… é”™è¯¯å¤„ç†ï¼šä¼˜é›…å¤„ç†æ‰€æœ‰é”™è¯¯æƒ…å†µ
- âœ… ç”¨æˆ·ä½“éªŒï¼šæä¾›æ¸…æ™°çš„åé¦ˆå’ŒçŠ¶æ€
- âœ… æ€§èƒ½ï¼šå…³æ³¨æ€§èƒ½æŒ‡æ ‡å’Œä¼˜åŒ–
- âœ… å¯è®¿é—®æ€§ï¼šéµå¾ª WCAG æŒ‡å—
- âœ… æ–‡æ¡£ï¼šä¿æŒä»£ç å’Œæ–‡æ¡£åŒæ­¥
